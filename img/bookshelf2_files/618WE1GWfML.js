(function(x){var n=window.AmazonUIPageJS||window.P,fa=n._namespace||n.attributeErrors,c=fa?fa("DetailPageImageBlockAssets",""):n;c.guardFatal?c.guardFatal(x)(c,window):c.execute(function(){x(c,window)})})(function(x,n,fa){x.register("postMetric",function(){return{postCountMetric:function(c){if("undefined"!==typeof c){var a=n.ue;if(a){var b=a.count(c)||0;a.count(c,b+1)}}},postTimeMetric:function(c,a){if("undefined"!==typeof c&&"undefined"!==typeof a){var b=n.ue;b&&b.count(c,a)}}}});"use strict";x.register("logFailedInteractionMetric",
function(){return{isEnabled:!1}});x.register("postEarlyMetric",function(){return null});"use strict";x.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(c,a,b,m){c=c.extend(!0,{},b,m);var k=new a(c);x.register("ImageBlockAPI",function(){return k.api});return k});"use strict";x.when("A","jQuery").execute(function(c,a){c.on("a:image:load:landingImage",function(){n.performance&&performance.now&&n.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",
performance.now())});c.loadDynamicImage(a("#landingImage"))});"use strict";x.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(c){function a(b){b&&(x.load.js(b),n.performance&&performance.now&&n.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",n.parseInt(performance.now())))}function b(b){b&&x.load.css(b)}var m=c.airyConfig;void 0===m?x.when("ImageBlockBTF").execute(function(c){m=c.airyConfig;a(m.jsUrl);b(m.cssUrl)}):(a(m.jsUrl),b(m.cssUrl))});"use strict";x.when("jQuery","ImageBlockModel",
"ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(c,a,b,m,k){var e={};return function(C){var h=this;h.dispatch=function(b,a){var h=e[b];m.isDefined(h)&&c.each(h,function(b,e){e.call(n,a)})};h.register=function(b,a){m.isDefined(e[b])||(e[b]=[]);"function"===typeof a&&e[b].push(a)};h.model=new a(C,h);h.view=new b(C,h,h.model);h.api=new k(C,h,h.model);h.init=function(){h.model.init();h.view.init()};h.init()}});"use strict";x.when("A","imageBlockUtils").register("ImageBlockModel",
function(c,a){function b(b,e,c,h,k){a.isDefined(b)&&(G.type=b);a.isDefined(e)&&(G.index=e);a.isDefined(c)&&(G.thumbnailIndex=c);a.isDefined(h)&&(G.variant=h);a.isDefined(k)&&(G.color=k)}function m(a){b("image",0,0,"MAIN",a||h.landingAsinColor||h.defaultColor)}function k(a){a=a.data;D=c.copy(G);b(a.type,a.index,a.thumbnailIndex,a.variant,a.color)}function e(b){k(b);b=c.copy(b);b.data=c.copy(G);l.dispatch("updateView",b)}function C(){D=c.copy(G);m(G.color)}var h,l,G={},D={},H,n;return function(b,a){l=
a;h=b;l.register("updateSelection",e);l.register("updateModel",k);l.register("resetModel",C);this.init=function(){m()};this.getCurrentItem=function(){return c.copy(G)};this.getPreviousItem=function(){return c.copy(D)};this.setCurrentEvent=function(b){H=b};this.getCurrentEvent=function(){return H};this.setImmersiveViewModalInstance=function(b){n=b};this.getImmersiveViewModalInstance=function(){return n};this.updateTitle=function(b){h.title=b}}});"use strict";x.when("ImageBlockBTF","postMetric").execute(function(c,
a){function b(b,a,C,h,m){function G(b){"click"===b.type&&h.postCountMetric("thumbClick");"click"===b.type&&t.overrideAltImageClickAction?r.dispatch("thumbActionClick",b):r.dispatch("updateSelection",b)}function D(b){t.useClickZoom||r.dispatch("imageClick",b)}function H(b){t.useClickZoom||r.dispatch("imageHover",b)}function M(b){r.dispatch("button360Click",b)}function z(a){!C.isDefined(a)||"swatchClick"!==a.type&&"updatedData"!==a.type?(q.update(a),"swatchHover"!==a.type&&y.getPreviousItem().thumbnailIndex!==
a.data.thumbnailIndex&&h.postCountMetric(a.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",a.data)):(q.render(a.data.color,!1,a.onload),a={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof n.markFeatureRender&&n.markFeatureRender("imageblock",a))}function I(b){r.dispatch("resize",b)}function N(b){C.selectThumbnail(b,F)}function O(){"function"===typeof n.markFeatureInteractive&&n.markFeatureInteractive("imageblock",{hasComponents:!0,
components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function L(){"function"===typeof n.markFeatureInteractive&&n.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===c.useIV?x.when("a-modal").execute(function(){O()}):O();t.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],G);b.declarative("thumb-action",["click"],
G);b.declarative("main-image-click",["click"],D);b.declarative("main-image-click",["mouseenter","mouseleave"],H);b.declarative("button-360-click",["click"],M);b.on("resize",I)}function f(b){var a=b.data,d;a&&"ingress"!==a.type&&"click"===b.type&&(d=b);return d}function A(b){var a=y.getCurrentItem(),d={type:"click"};d.$declarativeParent=b;d.data=a;return d}var q,t,r,y,F;return function(b,c,d){q=this;t=b;r=c;y=d;F=a("#imageBlock #altImages ul");var g=a("#imageBlock .canvas"),p=a("#main-image-container"),
h;q.subViews=[];for(c=0;c<m.length;c++)q.subViews.push(new m[c](b,d,q,r));q.render=function(b,d,f){var c=0;F.find(".item").remove();b=b||y.getCurrentItem().color;a.each(q.subViews,function(a,e){c=e.render(b,c,g,F,p,d,f)||c});var r=F.find(".a-button-selected").closest(".a-declarative");h=A(r)};q.init=function(){F=a("#imageBlock #altImages ul");var b=F.find(".a-button-selected").closest(".a-declarative"),d=b.data("action"),b=b.data(d)||{};b.color=t.landingAsinColor||t.defaultColor;r.dispatch("updateModel",
{data:b});q.render(b.color,!0);t.isDebug&&n.console&&console.log(t);r.register("updateView",z);r.register("selectThumbnail",N);L()};q.update=function(b){a.each(q.subViews,function(a,d){d.update(b)});t.usePeekHover&&("mouseleave"===b.type?r.dispatch("updateSelection",h):"click"===b.type&&(h=f(b)||h))}}}var m=["A","jQuery","imageBlockUtils","postMetric"].concat(c.views);x.when.apply(x,m).register("ImageBlockView",function(){for(var a=arguments[0],e=arguments[1],c=arguments[2],h=arguments[3],m=[],G=
4,n=arguments.length;G<n;G++)m.push(arguments[G]);return b(a,e,c,h,m)})});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(c,a,b,m,k,e,C){function h(d,g,f,p){if(!b.isjQueryObjDefined(d.find(".a-button-selected"))){var c=y.getCurrentItem();if(!p||"chromeless-video"!==c.type||!r.autoplayVideo){p=0;"image"===c.type&&(p=Math.max(n(c.color,c.variant),0));var e=g+p;e>=f&&(p=0,e=g);
g=b.getImageHash(c.color,p,r);-1!==g&&(F.dispatch("updateModel",{data:{index:p,thumbnailIndex:e,variant:g.variant,type:"image"}}),g=d.find(".item").get(e),b.selectGivenThumbnail(a(g),d))}}}function l(d,g,f){g=r.colorImages&&r.colorImages[g];var p=d;b.isDefined(g)&&(a.each(g,function(a,g){d<r.maxAlts&&(b.createThumbnail({type:"image",index:a,thumbnailIndex:d,variant:g.variant},g.thumb,J,"imageThumbnail"),d++)}),e.isEnabled&&C.logAltImgRequestPlacedOnThumbnails(a,e,y),h(J,p,d,f));return d}function G(b,
d){if("image"===b.type){var g=a("#image-canvas-caption #canvasCaption"),f,p=r.staticStrings,c=r.colorImages,e=b.color,h=b.index;d&&r.useIV?f=p.clickToExpand:c[e]&&c[e][h].hiRes&&r.useHoverZoom?(f=r.useHoverZoomIpad?p.touchToZoom:r.useClickZoom?p.clickToZoom:p.rollOverToZoom,r.hoverZoomIndicator&&(f="\x3cimg src\x3d'"+r.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+f)):r.useIV&&(f=p.clickToExpand);g.html(f)}}function n(a,d){return b.getIndexForVariant(a,d,r)}function H(g,f){var p="a-dynamic-image";
if(!r.acEnabled){var c;a.each(g.main,function(a,d){b.isDefined(c)||(c=parseFloat(d[1]/d[0])<=parseFloat(r.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});p+=c}var e=b.getMaxDimensionsOfMainImage(g.main,d,r),h=e[0],q=e[1],e=a("\x3cdiv\x3e\x3c/div\x3e"),h={"max-height":h,"max-width":q};e.addClass(p).css(h).attr({"data-old-hires":g.hiRes,"data-a-manual-replacement":"true",onload:f}).data("a-dynamic-image",g.main);return e}function M(b){var a=v.find(".swatchHoverExp");b=H(b);a.find(".imgTagWrapper").html(b);
c.loadImageManually(b);return a}function z(b){var a=d.css("height");null!==a&&b.find(".imgTagWrapper").css("height",a);b.addClass("selected");r.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(r.imgTagWrapperClasses)}function I(a,d){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){b.isDefined(d)&&k.postCountMetric("mainImageUpdateOnTwisterVariationClick");var g=b.getImageHash(a.color,a.index,r);if(-1===g)return g={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
b.lazyLoadingRequired(a,y,r)?L(a,!1,d):(F.dispatch("updateModel",g),b.showUnavailable(a.color)),-1;var f=v.find(".item.itemNo"+a.thumbnailIndex);if(!b.isjQueryObjDefined(f)){var f=a.thumbnailIndex,f=v.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+f+" maintain-height"),p=H(g,d);f.find(".placeHolder").replaceWith(p);v.find(".list").append(f);c.loadImageManually(p)}z(f);F.dispatch("loadMagnifier");G(a);r.useIV&&b.isDefined(g.hiRes)&&f.css("cursor",
"pointer");a.isUserGenerated&&(f=y.getPreviousItem(),p=a.variant,b.isDefined(p)&&f.thumbnailIndex!==a.thumbnailIndex&&(e.isEnabled&&C.logAltImgRequestServed(e),k.postCountMetric("ImageThumbnailSelectedVariant:"+p),0===p.indexOf("IG")&&(k.postCountMetric("IGImageSelectedVariant:"+p),k.postCountMetric("IGImageSelectedEvent:"+a.interaction))));c.trigger("dp:image-block:update",g)}}function N(a){var d=Math.max(n(a.color,y.getCurrentItem().variant),0),d=b.getImageHash(a.color,d,r);if(-1===d)return b.lazyLoadingRequired(a,
y,r)?b.lazyLoadOnHoverEnabled(r)&&(O(".3",!0),b.spinner(v,!0),c.delay(function(){y.getCurrentEvent().data===a&&L(a,!0)},500)):b.showUnavailable(a.color),-1;var g=M(d);k.postCountMetric("mainImageUpdateOnTwisterVariationHover");z(g);c.trigger("dp:image-block:update",d)}function O(b,d){d?v.css("opacity",b):a("#imageBlock").css("opacity",b)}function L(a,d,e){g=d;p=e;var c=a.color,h=r.colorToAsin[c];if(h&&h.asin){var q={};q.params={asin:h.asin,productGroupID:r.productGroupID,color:c};q.success=function(q){q?
(k.postCountMetric("lazyloadImageBlockOnTwisterUpdateSuccess"),b.ajaxState(h.asin,"success"),r.colorImages[c]=q.colorImage,b.isDefined(r.spin360ColorEnabled)&&(r.spin360ColorEnabled[c]=q.enable360),c===a.color&&(d&&g?(k.postCountMetric("lazyloadImageBlockOnTwisterHoverSuccess"),a===y.getCurrentEvent().data&&(f(a),N(a))):(k.postCountMetric("lazyloadImageBlockOnTwisterClickSuccess"),q={type:"updatedData",data:y.getCurrentItem(),onload:e||p},F.dispatch("updateView",q))),x.register(b.rankedImagesReadyEvent(h.asin))):
(k.postCountMetric("lazyloadImageBlockOnTwisterUpdateFail"),b.ajaxState(h.asin,"fail"))};q.error=function(){k.postCountMetric("lazyloadImageBlockOnTwisterUpdateFail");b.ajaxState(h.asin,"fail")};q.indicator=b.spinner(v);b.ajaxState(h.asin,void 0)&&"fail"!==b.ajaxState(h.asin,void 0)||(d?k.postCountMetric("lazyloadImageBlockOnTwisterHover"):k.postCountMetric("lazyloadImageBlockOnTwisterClick"),O(".3",d),m.load("/gp/product/features/apparel-main-image/ranked-images.html",q),b.ajaxState(h.asin,"sent"));
return r.colorImages&&r.colorImages[c]}}function f(d,g){b.lazyLoadingRequired(d,y,r)||(a("#imageBlock").css("opacity","1"),v.css("opacity","1"),b.spinner(v,!1),v.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),b.hideUnavailable(),g&&v.find(".list .item").remove())}function A(){var g=v.find(".item .imgTagWrapper"),f=b.getContainerHeight(d,r.holderRatio,r.holderMaxHeight);0<f&&(d.height(f),g.height(f));v.find("img.a-dynamic-image").each(function(){var g=a(this);
g.data("a-manual-replacement")&&c.loadDynamicImage(this);var f=g.data("a-dynamic-image"),f=b.getMaxDimensionsOfMainImage(f,d,r);g.css({"max-height":f[0]+"px","max-width":f[1]+"px"})})}function q(b){G(y.getCurrentItem(),"mouseenter"===b.type)}var t,r,y,F,J,v,d,g,p,u;return function(a,g,p,c){t=this;r=a;y=g;F=c;r.colorImages[r.landingAsinColor]=r.colorImages[r.defaultColor];t.render=function(a,g,p,c,e,h,q){v=p;J=c;d=e;u=l(g,a,h);h||(a=y.getCurrentItem(),b.lazyLoadingRequired(a,y,r)&&F.dispatch("updateModel",
{data:{type:"lazy-loaded"}}));f(y.getCurrentItem(),!h);I(y.getCurrentItem(),q);return u};t.update=function(a){var d=a.data;y.setCurrentEvent(a);"ingress"!==d.type&&f(a.data,!1);"swatchHover"===a.type?d.color===y.getCurrentItem().color?I(y.getCurrentItem()):a.captured||-1===N(d)||(a.captured=!0):"image"===d.type&&(d.interaction=a.type,d.isUserGenerated=!0,"mouseenter"===a.type&&k.postCountMetric("dpcc_imageThumbHovered_"+(d.thumbnailIndex+1)+"_"+u),I(d),r.usePeekHover&&"click"!==a.type||(b.selectGivenThumbnail(a.$declarativeParent,
J),"click"===a.type&&(k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(d.thumbnailIndex+1)+"_"+u))))};r.overrideAltImageClickAction&&b.addTag("clickEnabledOnAltImages");F.register("imageHover",q);F.register("resize",A)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(c,a,b,m,k,e){function C(a){O?a.css("cursor","url('"+H.staticImages.zoomIn+"'), auto"):
(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function h(a){var f=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(b.isDefined(f))for(var f=f[1].split("_"),c=0;c<f.length;c++){var e=f[c].match(/^([A-Z]+)(\d+(\.\d+)?)$/);b.isDefined(e)&&(a[e[1]]=parseInt(e[2],10))}return a}function l(l,f){function A(){var a;f.useClickZoom?(a=f.offsetInClickZoom,a=[Math.min(1,Math.max(0,z[0]-(E[0]+a))/(E[2]-2*a)),Math.min(1,Math.max(0,z[1]-(E[1]+a))/(E[3]-2*a))]):a=
u&&u.updatePosition();if(a&&p&&p.detailSize){var b=[p.detailSize[0]-p.rect.width,p.detailSize[1]-p.rect.height];c.capabilities.rtl?p.detailImage.get(0).style.right=-(a[0]*b[0])+"px":p.detailImage.get(0).style.left=-(a[0]*b[0])+"px";p.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function q(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function t(b){var d=S?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";z=S?[d.pageX,d.pageY]:[b.pageX,b.pageY];if(c.capabilities.rtl){var g=
a(n).width();z=S?[g-d.pageX,d.pageY]:[g-b.pageX,b.pageY]}}function r(a){S&&a.preventDefault();t(a);f.useClickZoom?a=[E[0],E[1],E[0]+E[2],E[1]+E[3]]:(a=u?u.offset:l.offsetParent().offset(),a=H.acEnabled?[a.left,a.top,d.width()+a.left,d.height()+a.top]:[D[0]+a.left,D[1]+a.top,D[0]+D[2]+a.left,D[1]+D[3]+a.top]);z[0]<a[0]||z[1]<a[1]||z[0]>=a[2]||z[1]>=a[3]||H.acEnabled&&!q(l)?(f.fadeMagnifier?N||(N=!0,Z=setTimeout(function(){y(!0)},500)):f.useClickZoom||y(),B&&(B=!1,clearTimeout(aa))):(B||(B=!0,aa=setTimeout(function(){m.postCountMetric("dppc_hoverZoomOpened");
k.isEnabled&&e.logHoverZoomRequestServed(k)},1E3)),f.fadeMagnifier&&N&&(N=!1,clearTimeout(Z)),A())}function y(b){b&&v.suppressMagnifier(!0);if(Q&&(p&&p.hide(),u&&(u.destroy(),u=null),Q=!1,S?(l.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),G(),b))l.one("click.magnifier touchstart.magnifier",function(a){F(a,!0)})}function F(b,g){g&&v.suppressMagnifier(!1);if(!Q&&
!ea&&(0===ba&&(m.postCountMetric("dppc_hoverTime",new Date-(n.ue&&n.ue.t0||0)),ba=1),I[R]||(m.postCountMetric("dppc_hoverMain"),I[R]=1),D=[l.position().left,l.position().top,l.width(),l.height()],R&&(t(b),p?p.refit().show():p=new M,f.useClickZoom||(u=u||new x),E=p.getWindowSize(),A()),Q=!0,S?(l.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",r).bind("touchend.magnifier",y),a(document).trigger("engaged.magnifier")):(H.acEnabled?d.unbind("mousemove.magnifier"):l.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",r)),g)){var c=a("#zoomWindow");if(0<c.length)c.one("click.magnifier touchend.magnifier",function(a){y(!0)})}}function G(){f.useHoverZoom&&(S?l.bind("touchstart.magnifier touchmove.magnifier",F):H.acEnabled?q(l)&&d.bind("mousemove.magnifier",F):l.bind("mousemove.magnifier",F))}var v=this,d=l.offsetParent(),g={detailImageUrl:l.attr("data-old-hires"),location:"over",locationElement:l,prelaod:"ready",zIndex:50,offsetInClickZoom:50};f=
a.extend(g,f);f.adjustment=[10,0,-10,0];var p=null,u=null,z=null,D=null,E=null,K={"null":1,"":1,undefined:1},Q=!1,ea=!1,R=f.detailImageUrl,S=f.useHoverZoomIpad||0,ba=0,I={},x=function(){function b(a){var d=Math.round(Math.min(l.width(),p.rect.width/a));a=Math.round(Math.min(l.height(),p.rect.height/a));h.css({width:d,height:a});g=[d,a]}var d=this,g=[0,0],c=(p.detailSize&&p.detailSize[0]||5E8)/D[2],e=(p.detailSize&&p.detailSize[1]||5E8)/D[3],c=e>c?e:c;a("#magnifierLens").remove();var h=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
f.generalImageUrls.zoomLensBackground&&h.css({backgroundImage:"url("+f.generalImageUrls.zoomLensBackground+")"});H.showMagnifierOnHover?C(h):h.css("cursor","pointer");d.updatePosition=function(){var a=[D[2]-g[0],D[3]-g[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(z[0]-g[0]/2-D[0]-d.offset.left)/a[0])),f=0>=a[1]?.5:Math.max(0,Math.min(1,(z[1]-g[1]/2-D[1]-d.offset.top)/a[1])),c=D[0]+Math.round(b*a[0]),a=D[1]+Math.round(f*a[1]);h.get(0).style.left=c+"px";h.get(0).style.top=a+"px";return[b,f]};d.destroy=function(){h.remove()};
d.offset=l.offsetParent().offset();b(c);d.updatePosition();h.appendTo(l.parent());p.detailImage[0].complete||p.detailImage.load(function(){var a=p.detailImage.width()/D[2];b(a);d.updatePosition()})};x.preload=function(){v.preload(f.generalImageUrls.lensBackgroundUrl)};var M=function(){function d(){var g={};if("over"===f.location){var g=f.useClickZoom,e={},h=a("#leftCol"),r=a("#centerCol"),t=a("#rightCol"),A=a("#hover-zoom-end"),u=a("#actionPanelContainer"),k=b.isjQueryObjDefined(h)?h.outerHeight():
r.outerHeight();e.top=b.isjQueryObjDefined(h)?h.offset().top:r.offset().top;e.bottom=k+e.top;e.right=b.isjQueryObjDefined(t)?t.offset().left:u.offset().left;e.left=g?0:h.offset().left+h.outerWidth();b.isjQueryObjDefined(A)&&A.offset().top>e.bottom&&(e.bottom=A.offset().top);g=e}else"right"===f.location&&(g=l.offset(),g={left:g.left+l.outerWidth(),top:g.top,right:g.left+l.outerWidth()+400,bottom:g.top+400});f.minHeightElement&&(g.bottom=Math.max(g.bottom,g.top+a(f.minHeightElement).outerHeight()));
g.bottom=Math.min(g.bottom,a(n).scrollTop()+a(n).height());g.left+=p[0];g.top+=p[1];g.right+=p[2];g.bottom+=p[3];g.width=g.right-g.left;g.height=g.bottom-g.top;f.enhancedHoverOverlay&&b.isDefined(n.pageXOffset)&&(e=a(n).width(),g.width=e-g.left+n.pageXOffset-18,g.height-=14);q.css({left:g.left,top:g.top,width:g.width,height:g.height});c.rect=g;return c}function g(a){var b=new Image;c.detailSize=[0,0];b.onload=function(){c.detailSize=[b.width,b.height];A()};b.src=a.attr("src");if(0<b.width&&0<b.height)c.detailSize=
[b.width,b.height];else if(f.detailImageSize)c.detailSize=f.detailImageSize;else{a=h(b.src);var d=D[2]/D[3];a.SS||a.AA?(a=a.SS||a.AA,c.detailSize=[a,a]):a.SX?c.detailSize=[a.SX,Math.round(a.SX/d)]:a.SY?c.detailSize=[Math.round(a.SY*d),a.SY]:a.SL&&(c.detailSize=1<=d?[a.SL,Math.round(a.SL/d)]:[Math.round(a.SL*d),a.SL])}}var c=this,p=f.adjustment;a("#zoomWindow").remove();var e={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:f.zIndex};f.enhancedHoverOverlay&&(e.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
e.border="1px solid #949494",e.borderColor="rgb(148,148,148)");var q=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(e);f.fadeMagnifier&&q.fadeIn(200);f.useClickZoom&&(O?q.css("cursor",'url("'+f.zoomOutIcon+'"), auto'):(q.css("cursor","-webkit-zoom-out"),q.css("cursor","-moz-zoom-out"),q.css("cursor","zoom-out")));c.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+b+"'/\x3e").css("position","absolute");c.detailImage&&c.detailImage.remove();q.append(b);a(document).trigger("updated.magnifier");
c.detailImage=b;g(c.detailImage)};c.refit=function(){d();g(c.detailImage);return c};f.fadeMagnifier?(c.show=function(){q.fadeIn(200);return c},c.hide=function(){q.fadeOut(200);return c}):(c.show=function(){q.show();return c},c.hide=function(){q.hide();return c});c.destroy=function(){q.remove();return c};c.getWindowSize=function(){return[c.rect.left,c.rect.top,c.rect.width,c.rect.height]};c.updateImage(R);d();q.appendTo(document.body)},N=!1,Z,B=!1,aa;v.preload=function(b){b=a.makeArray(b);for(var g=
b.length,d=0;d<g;d++)b[d]instanceof Array?v.preload(b[d]):"string"===typeof b[d]&&b[d]&&!K[b[d]]&&(K[b[d]]=new Image,K[b[d]].src=b[d])};v.changeImage=function(b,d){Q&&y();R=d;l.attr("src",b);v.preload(b);D=[l.position().left,l.position().top,l.width(),l.height()];d&&("immediately"===f.preload?v.preload(d,!0):a(n).ready(function(){v.preload(d)}),p?p.updateImage(d):l.attr("data-old-hires",d))};v.destroy=function(){H.acEnabled?d.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
l.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");u&&u.destroy();u=null;p&&p.destroy();p=null};v.detailImage=function(){return p.detailImage};v.suppressMagnifier=function(a){ea=a};v.isEngaged=function(){return Q};v.engageMagnifier=F;v.disengageMagnifier=y;l[0].complete?G():l.one("load",G);v.preload(l.attr("src"));n.performance&&performance.now&&n.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(f.preload){var ja=
f.detailImageUrl,g=function(){v.preload(ja,!0);f.useClickZoom||x.preload()},W=f.preload;W.constructor!==Array&&(W=[W]);for(var w=0;w<W.length;w++)if("immediately"===W[w])g();else if(a(n)[W[w]])a(n)[W[w]](g);else a(n).bind(W[w],g)}return v}function G(){if(H.useHoverZoom){var c={adjustment:[0,0,1,1],generalImageUrls:H.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:H.useHoverZoomIpad,useHoverZoom:H.useHoverZoom,useClickZoom:H.useClickZoom,fadeMagnifier:H.fadeMagnifier,
zoomOutIcon:H.staticImages.zoomOutCur,enhancedHoverOverlay:H.enhancedHoverOverlay||H.atfEnhancedHoverOverlay};I&&(I.destroy(),I=void 0);var f=x.find(".image.item.selected img[data-old-hires]").not("[data-old-hires\x3d'']");b.isjQueryObjDefined(f)?H.useClickZoom?(f.one("click.loadmagnifier touchstart.loadmagnifier",function(a){I=new l(f,c);I.engageMagnifier(a,!0)}),O?f.css("cursor",'url("'+H.staticImages.zoomInCur+'"), auto'):(f.css("cursor","-webkit-zoom-in"),f.css("cursor","-moz-zoom-in"),f.css("cursor",
"zoom-in"))):I=new l(f,c):k.isEnabled&&e.logHoverZoomApplicability(a,k)}}var D,H,M,z,I,x,O=navigator.userAgent.match(/msie|trident/i);return function(a,b,c,e){D=this;H=a;M=b;k.refToModel=M;z=e;D.render=function(a,b,c,f,e,h){x=c;I&&(I.destroy(),I=void 0)};D.update=function(a){};z.register("loadMagnifier",G);z.register("resize",G)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(c,a,b,m){function k(a,c,e){a=(a=e?e:b.getColorFromState(c.getState().hovered_variations,
h))&&""!==a?a:h.defaultColor;G.dispatch("updateView",{type:"swatchHover",data:{color:a}});m.postCountMetric("swatchHover")}function e(a,c,e,k){a=(a=k?k:b.getColorFromState(c.getState().selected_variations,h))&&""!==a?a:h.defaultColor;a===l.getCurrentItem().color?"function"===typeof e&&e():(G.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof n.markFeatureRender&&n.markFeatureRender("imageblock",
a);e()}}),m.postCountMetric("swatchClick"))}var C,h,l,G;return function(a,b,m,z){C=this;h=a;l=b;G=z;c.on("image-block-twister-swatch-hover",k);c.on("image-block-twister-swatch-click",e);C.render=function(a,b,c,e,f){};C.update=function(a){}}});"use strict";x.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(c,a,b,m,k,e,C){function h(b,d,g,c){!f.autoplayVideo||X||f.useChromelessVideoPlayer?!m.isjQueryObjDefined(b.find(".a-button-selected"))&&
(g=A.getCurrentItem(),!c||f.prioritizeVideos||"chromeless-video"===g.type&&f.autoplayVideo)&&(c=m.getVideoHash(g.color,0,f),-1!==c&&(d+=0,q.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:c.variant,type:f.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=b.find(".item").get(d),m.selectGivenThumbnail(a(d),b))):(m.selectGivenThumbnail(b.find("img:last"),b),m.fadeToThumbnail(b.find("img").length-1,F,b))}function l(a){var b=A.getCurrentItem().color;if(f.useChildVideos&&
!f.colorToVideo[b]){var d=function(){if(a){f.colorToVideo[b]=a;var d={type:"updatedData",data:A.getCurrentItem()};q.dispatch("updateView",d)}};f.lazyLoadExperienceDisabled?d():x.when(m.rankedImagesReadyEvent(f.colorToAsin[b].asin)).execute(function(){d()})}}function G(a){if(!f.useChildVideos)return m.lazyLoadingRequired(A.getCurrentItem(),A,f)?void 0:f.videos;if(f.colorToVideo[a])return f.colorToVideo[a];var b=f.colorToAsin[a];if(b&&b.asin){var d={};d.params={asin:b.asin,productGroupID:f.productGroupID,
useAiryVideoPlayer:!0,useChromelessVideoPlayer:f.useChromelessVideoPlayer,isUDP:f.isUDP};f.isDPXFeatureEnabled||(d.success=function(a){l(a)},k.load("/gp/product/features/apparel-main-image/videos.html",d));return f.colorToVideo&&f.colorToVideo[a]}}function n(){q.dispatch("selectThumbnail",m.useTabbedImmersiveView(f)?1:0)}function H(d,g,c,f){return b.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:d[0],streamingUrls:g.url,swfUrl:c.swfUrl,foresterMetadataParams:c.foresterMetadataParams,backgroundColor:"transparent",
flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=m.isjQueryObjDefined(d.find("video"))?"HTML5":"FLASH";e.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){d.parent().css("z-index",8)},videounsupported:function(){n();e.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){n();e.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){v.seek(0)}},cuePoints:[{values:g.durationSeconds-1,type:"position",
callback:function(b,g,c){b=c.durationSeconds-c.playheadTimeSeconds;d.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*b,.1,function(){d.parent().css({"background-color":"transparent","z-index":-1});n();a(this).show().css("opacity",1)})}}]})}function M(b){if("chromeful-video"===b.type||"chromeless-video"===b.type){var e=m.getVideoHash(b.color,b.index,f);if(-1===e)return-1;if("chromeful-video"===b.type){b=F.width()/F.height();var p=parseInt(e.videoWidth,10),h=parseInt(e.videoHeight,
10);m.updateAspectRatio(b,p,h,r);v?(v.show(),m.loadMediaIntoAiry(v,e,d,f.tabletWeb)):v=f.tabletWeb?u:m.createAiryInstanceForChromeful(r,e,d,null,f.autoplayVideo,F,y,t);b:if(m.useTabbedImmersiveView(f)){if(1<m.getVideosCount(A.getCurrentItem().color,f)){if(m.isDefined(J)){y.show();break b}J=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(f.staticStrings.watchMoreVideos);y.find("#videoCaption").append(J);c.declarative.create(J,"videoIngressClick",g)}m.playVideoInImmersiveView(f,
A.getCurrentItem().color)&&(c.declarative.create(r,"videoIngressClick",g),r.attr&&r.attr("data-ux-click",""),r.children().css("z-index","-1"),r.css("display","inline-block"))}else y.find("#videoCaption").text(f.staticStrings.playVideo),y.show();e=v;f.autoplayVideo&&e&&!X&&(m.toggleVideoCaption(y),e.setVolume(0),e.show(),e.play(),X=!0)}else v?(v.show(),m.loadMediaIntoAiry(v,e,d,f.tabletWeb),v.play(),y.show()):(v=H(r,e,d))&&v.play()}}function z(b,d,c){var p=G(d);d=b;m.isDefined(p)&&0<p.length&&f.alwaysIncludeVideo&&
b===f.maxAlts&&(t.find(".item:last").remove(),b--);m.isDefined(p)&&(a.each(p,function(a,d){if(b<f.maxAlts){var c=f.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",h={type:c,index:a,thumbnailIndex:b,variant:d.variant};g={type:"video-ingress",index:a,thumbnailIndex:b,variant:d.variant};m.useTabbedImmersiveView(f)&&("chromeful-video"===c&&(E+=" videoBlockIngress  videoBlockDarkIngress",d.thumb=d.thumb.replace("_PKmb-play-button-overlay-thumb","")),f.altsOnLeft||(E+=" a-align-top"));m.createThumbnail(h,
d.thumb,t,E);if(m.useTabbedImmersiveView(f)){I(t.find(".videoBlockIngress img"),f.videoIngressATFSlateThumbURL);var h=1<p.length?"multiple-videos":"one-video",q=1<p.length?p.length+" "+f.staticStrings.multipleVideos:f.staticStrings.singleVideo;q&&t.find(".videoBlockIngress").append(t.find("#videoCount_template").clone().text(q).attr("id","videoCount")).addClass(h)}U||(U=!0,e.postCountMetric("chromeless-video"===c?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));b++}if(m.useTabbedImmersiveView(f))return!1}),
h(t,d,b,c));return b}function I(a,b){var d=a.attr("src");if(d&&b){a.attr("src",b);var g=new Image;g.onload=function(b){a.attr("src",d)};g.src=d}}function N(a){v&&v.pause();a.data=g;a.clickTimeStamp=a.$event.timeStamp;var b="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";q.dispatch("imageClick",a);e.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);e.postCountMetric(b)}function O(a){u=a.player;u.hide=function(){u.pause();c.$("#main-video-container").find(".vse-player-container").hide()};
u.show=function(){c.$("#main-video-container").find(".vse-player-container").show();u.play()};u.getMediaSourceInfo=function(){return m.getMediaSourceInfo()}}var L,f,A,q,t,r,y,F,J,v,d,g,p,u,U=!1,X=!1,E="videoThumbnail";return function(b,h,k,u){L=this;f=b;A=h;q=u;d=f.airyConfig;f.colorToVideo={};f.colorToVideo[f.landingAsinColor]=f.colorToVideo[f.defaultColor]=f.videos;L.render=function(b,d,g,e,h,q){t=e;r=h.find("#main-video-container");y=r.parent().find("#video-canvas-caption");F=a("#main-image-container");
f.useChromelessVideoPlayer||r.addClass("chromeful-container");p=z(d,b,q);M(A.getCurrentItem());m.useTabbedImmersiveView(f)&&c.declarative("videoIngressClick",["click"],N);b=A.getCurrentItem().color;d=m.getVideoHash(b,0,f);-1!==d&&f.tabletWeb&&(b=m.getNilgiriServiceAjaxRequest(f,b,d),C.get(c,"#main-video-container",b,function(){c.$("#main-video-container").find(".vse-player-container").hide()},function(){c.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return p};L.update=function(a){var b=
a.data;"ingress"!==b.type&&v&&(v.hide(),r.parent().css("z-index",-1),y.hide());if("swatchHover"===a.type)b.color===A.getCurrentItem().color?M(A.getCurrentItem()):a.captured||m.lazyLoadingRequired(b,A,f)&&!m.lazyLoadOnHoverEnabled(f)&&M(A.getCurrentItem());else if("chromeful-video"===b.type||"chromeless-video"===b.type)"mouseenter"===a.type&&e.postCountMetric("dpcc_videoThumbHovered_"+(b.thumbnailIndex+1)+"_"+p),M(b),f.usePeekHover&&"click"!==a.type||(m.selectGivenThumbnail(a.$declarativeParent,t),
"click"===a.type&&m.useTabbedImmersiveView(f)&&(e.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+1)+"_"+p),g.action="videoIngressClick",g.clickTimeStamp=a.$event.timeStamp,g.$event=a.$event,g.$currentTarget=a.$currentTarget,q.dispatch("videoIngressClick",g),e.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp)))};if(f.isDPXFeatureEnabled)c.on("triggerVideoAjax",l);c.on("vsePlayer-imageblock_tablet",O)}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader",
"postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(c,a,b,m,k,e,C,h){function l(a){return a.hiRes||a.large||a.main[a.main.length-1]}function G(){w.find("#ivTitle").click(function(){W.hide()})}function D(){P=Oa?{type:"360-spin"}:aa.getCurrentItem()}function H(){var a=w.find("#ivStage"),b=W.$container.find(".a-popover-wrapper"),d=b.find(".a-popover-inner"),b=b.height()-h.getDimension(d,"padding-top")-h.getDimension(d,
"padding-bottom");w.css("height",b);var d=w.find("#ivTitle").outerHeight(!0),g=w.find("#ivVariationSelection").outerHeight(!0),c=w.find("#ivMediaSelection").outerHeight(!0),e=w.find("#ivThumbs"),f=h.getDimension(e,"margin-top")+h.getDimension(e,"margin-bottom");e.css("height",b-d-g-c-f);w.find("#ivLargeImage").css("height",b);a.css("width",w.width()-h.getDimension(w,"padding-left")-h.getDimension(w,"padding-right")-w.find("#ivThumbColumn").width()-h.getDimension(a,"margin-left")-h.getDimension(a,
"margin-right"))}function M(){w.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(w.find("#ivVideoList").hide(),w.find("#ivThumbs").show(),w.find(".ivThumbVideo").show(),"chromeful-video"===P.type&&w.find("#ivVideo_"+P.index).click()):"images"===b?(w.find("#ivVideoList").hide(),w.find("#ivThumbs").show(),w.find(".ivThumbVideo").hide(),"chromeful-video"===P.type&&(0===ca&&0===V?w.find("#iv360").click():0===ca?w.find("#ivHeroImage_0").click():w.find("#ivImage_0").click())):"videos"===
b&&(w.find("#ivVideoList").show(),w.find("#ivThumbs").hide(),"chromeful-video"!==P.type?w.find("#ivVideoList_0").click():w.find("#ivVideoList_"+P.index).click())})}function z(){var a=w.find("#ivStage").find("#ivLargeImage"),b=a.width(),d=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var c=g.width(),e=g.height();0<g.length&&(g[0].naturalWidth&&(c=g[0].naturalWidth),g[0].naturalHeight&&(e=g[0].naturalHeight));a.css("cursor","auto");var c=0===c?1:c,e=0===e?1:e,f=Math.min(b/c,d/e),p=e*f,h=
c*f;1>f?(Pa?a.css("cursor","url('"+B.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;c=Math.min(h,c);e=Math.min(p-20,e);g.css({"margin-top":(d-e)/2,"margin-left":(b-c)/2,height:e,width:c});a.css("visibility","visible");Aa=!1}function I(a){var b=w.find("#ivLargeImage");b.css("visibility","hidden");b.empty();h.animateStageIn(b);b.append(a);z()}function N(){da&&da.pause();w.find("#ivLarge360").css("display","none");
w.find("#ivLargeVideo").css("display","none");w.find("#ivLargeImage").css("display","none");r()}function O(d){N();w.find("#ivLargeImage").css("display","block");var g;"hero-image"===d?b.isDefined(ha)&&(g=l(ha[P.index])):b.isDefined(ia)&&(g=l(ia[P.index]));if(b.isDefined(g)){w.find(".fullscreen").remove();var c=a("\x3cimg\x3e").attr("src",g).addClass("fullscreen"),e=w.find("#ivLargeImage");h.animateStageOut(e,function(){c.load(function(){I(c)});if(c[0].complete)I(c);else{e.empty();var b=(e.height()-
104)/2,d=(e.width()-80)/2;a("\x3cimg\x3e").attr("src",B.staticImages.spinner).css({position:"relative",top:b+"px",left:d+"px"}).appendTo(e)}})}}function L(){var a=parseInt(P.index,10)+1;a>=ga.length||w.find("#ivVideo_"+a).click()}function f(){var a;b.isDefined(ga)&&(a=ga[P.index]);if(b.isDefined(a)){N();var d=w.find("#ivLargeVideo").css("display","block");da?(da.isDetached()&&da.attach(d[0]),b.loadMediaIntoAiry(da,a,va,B.tabletWeb),da.show()):(da=b.createAiryInstanceForChromeful(d,a,va,"ImmersiveView"),
va.enableContinuousPlay&&da.bind("ended",L));da.play({isAsync:!0})}}function A(){D();var a;a="hero-image"===P.type?w.find("#ivHeroImage_"+P.index):"image"===P.type?w.find("#ivImage_"+P.index):"chromeful-video"===P.type||"chromeless-video"===P.type?w.find("#ivVideo_"+P.index):"360-spin"===P.type?w.find("#iv360"):b.isDefined(ha)?w.find("#ivHeroImage_"+P.index):w.find("#ivImage_"+P.index);b.isjQueryObjDefined(a)||(a=w.find("#ivImage_0"));q(a)}function q(a){w.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivThumbVideo")?(P.type="chromeful-video",P.index=a.attr("id").split("_")[1],f()):a.hasClass("ivHeroImage")?(P.type="hero-image",P.index=a.attr("id").split("_")[1],O(P.type)):a.hasClass("iv360Image")?(P.type="360-spin",P.index=0,t()):(P.type="image",P.index=a.attr("id").split("_")[1],O(P.type))}function t(){N();w.find("#ivLarge360").css("display","block");d();var a=w.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});h.animateStageIn(a)},
200);F();k.postCountMetric("dppc_click360");ra=Date.now()}function r(){0<ra&&(y("dppc_duration360",Date.now()-ra),ra=0)}function y(a,b){n.ue&&n.ue.count(a,b)}function F(){if(0<oa){var a=w.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function J(b,d){if(oa<b.length){var g=a("\x3cimg /\x3e").css({display:"block",width:6*ma+"px",height:qa+"px"});g.hide();d.append(g);g.get(0).onload=function(){d.closest(document.documentElement).length&&(oa++,1===oa&&(F(),0<ra&&y("dppc_loadTime360",
Date.now()-ra)),0<Ga&&y("dppc_perSpriteloadTime360",Date.now()-Ga),w.find("#iv360Spinner").hide(),g.show(),wa=5*T.imageLocations[Math.floor(xa/T.imageLocations[0].length)][xa%T.imageLocations[0].length],J(b,d))};g.attr("src",b[oa].replace(/(\._SP)\d+(,)\d+/,"$1"+sa+"$2"+ta));Ga=Date.now()}}function v(a){if(b.isDefined(T.spriteWidthSizes)&&0<T.spriteWidthSizes.length){var d=T.spriteWidthSizes,g=d.length,c=d[0],e=d[g-1];if(a<=c)return c;if(a>e)return e;for(c=0;c<g;c++)if(a>d[c]&&a<=d[c+1])return d[c+
1]}else return a}function d(){var b=w.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",B.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",
transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ha=!0,g())}function g(){if(b.isDefined(T.spriteURLs)&&b.isDefined(w)&&Ha&&!Ia){var d=w.find("#ivLarge360"),g=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(T.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",T.staticImages.hint360).appendTo(g);a("\x3cdiv\x3e").css({"text-align":"center"}).text(B.staticStrings.dragToSpin).appendTo(g);
g.appendTo(d);var g=T.imageWidth,c=T.imageHeight,e=d.parent().width(),f=d.parent().height(),h=0,q=0;g/c>e/f?(sa=v(e),ta=Math.round(c/g*sa),ma=Math.ceil(e),qa=Math.ceil(ta/sa*e),q=(f-qa)/2):(ta=v(f),sa=Math.round(g/c*ta),qa=Math.ceil(f),ma=Math.ceil(sa/ta*f),h=(e-ma)/2);d.css({"margin-left":h,"margin-top":q,width:ma+"px",height:qa+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*ma+"px");J(T.spriteURLs,w.find("#image-360-sprites"),0);g=w.find("#ivLarge360");
g.bind("mousedown",X);g.bind("touchstart",p);g.bind("touchmove",u);g.bind("touchend",U);a(document).bind("mousemove",E);a(document).bind("mouseup",K);b.isDefined(B.staticImages.grab)&&d.css("cursor","url('"+B.staticImages.grab+"'), auto");Ia=!0}}function p(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function u(a){Ba&&(Q(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function U(a){Ba&&(Ba=!1)}function X(a){Ca=!0;fa=a.originalEvent.clientX;b.isDefined(B.staticImages.grabbing)&&
(a=w.find("#ivLarge360"),a.css("cursor","url('"+B.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+B.staticImages.grabbing+"'), auto"));return!1}function E(a){Ca&&(Q(a.originalEvent.clientX-fa),fa=a.originalEvent.clientX)}function K(a){Ca&&(Ca=!1,b.isDefined(B.staticImages.grab)&&(a=w.find("#ivLarge360"),a.css("cursor","url('"+B.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function Q(a){for(a=wa-=a/ma*180;0>a;)a+=
360;for(;360<a;)a-=360;wa=a;var d;a=360;for(var g=0;g<oa;g++)for(var c=0;c<T.imageLocations[g].length;c++){var e=Math.abs(wa-5*T.imageLocations[g][c]);e<a&&(a=e,d=g*T.imageLocations[0].length+c)}d!==xa&&(a=Math.floor(d/T.imageLocations[0].length),a!==Math.floor(xa/T.imageLocations[0].length)&&(b.isDefined(Ka)||(Ka=document.createElement("canvas").getContext("2d")),g=w.find("#image-360-sprites").children(),Ka.drawImage(g[a],0,0)),a=w.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),
a.animate({opacity:0},750)));xa=d;a=d%T.imageLocations[0].length*-1*ma;d=-1*Math.floor(d/T.imageLocations[0].length)*qa;g=w.find("#ivLarge360").children("#image-360-sprites");g.css("-webkit-transform","translate3d("+a+"px, "+d+"px, 0)");g.css("transform","translate3d("+a+"px, "+d+"px, 0)")}function ea(){w.delegate(".ivThumb","click",function(){var b=a(this);q(b)});w.delegate(".ivThumbVideoListOuter","click",function(){w.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");
P.type="chromeful-video";P.index=b.attr("id").split("_")[1];f()})}function R(){da&&!da.isDetached()&&(va.volume=da.getVolume(),da.detach(),!document.all||n.atob||document.addEventListener||(da=null));w.find("#ivLargeImage").empty();r()}function S(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function ba(b){var d=pa.left-(b.pageX-Da[0])*Ea;c.capabilities.rtl&&(d=pa.left-(a(n).width()-b.pageX-Da[0])*Ea);b=pa.top-(b.pageY-Da[1])*Ea;d=S(d,Fa.left);b=S(b,Fa.top);w.find(".fullscreen").css({left:d,top:b})}
function ya(){w.delegate("#ivLargeImage","click",function(a){if(Aa)z();else if(za){w.find(".fullscreen").removeAttr("style");if(za){var b=w.find("#ivLargeImage"),d=b.find(".fullscreen");Pa?b.css("cursor","url('"+B.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Aa=!0;var g=w.find("#ivLargeImage");Fa.left=g.width()-d.width();Fa.top=g.height()-d.height();var g=b.height()/2,c=b.width()/2;Da=[b.offset().left+c,b.offset().top+
g];pa.top=g-d.height()/2;pa.left=c-d.width()/2;d.css({position:"relative",left:pa.left,top:pa.top});Ea=Math.max(d.height()/b.height(),d.width()/b.width())}ba(a)}});w.delegate("#ivLargeImage","mousemove",function(a){Aa&&ba(a)})}function la(d){if(b.isImmersiveViewEnabled(B,aa.getCurrentItem().color))if(La){var g=d.$event.originalEvent;g.acknowledge&&g.acknowledge(d.$currentTarget[0]);Oa=b.isDefined(d)&&"button-360-click"===d.action;e.isEnabled&&C.logImmersiveViewRequestServed(e);k.postCountMetric("dppc_immersiveViewOpened");
if(b.isDefined(W))W.show();else{d=a("#auiImmersiveViewDiv");var g=a(n).height()-150,f=a(n).width()-75;W=La.create(d,{name:"immersiveView",activate:"onclick",width:f,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});d.click()}if(Ma){w=a("#ivMain");d=aa.getCurrentItem().color;ia=B.colorImages[d];ha=B.heroImage[d];ga=B.useChildVideos?B.colorToVideo[d]:B.videos;Na=Y()&&B.spin360ColorEnabled[d];T=Y()?B.spin360ColorData[d]:void 0;D();ka=V=na=ca=0;b.isDefined(ha)&&(V=ha.length);b.isDefined(ia)&&(ca=
ia.length);b.isDefined(ga)&&(na=ga.length);Na&&(ka=1);h.populateTitle(w.find("#ivTitle"),45,B);h.populateVariationSelection(w.find("#ivVariationSelection"));d=w.find("#ivMediaSelect");0===ca+ka||0===na?(d.parent().hide(),w.find("#ivThumbs").addClass("noMediaSelection")):(d.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(B.staticStrings.allMedia+" ("+(V+ca+ka+na)+")").appendTo(d),a("\x3coption/\x3e").attr("value","images").text(B.staticStrings.images+" ("+(V+ca+ka)+")").appendTo(d),
a("\x3coption/\x3e").attr("value","videos").text(B.staticStrings.videos+" ("+na+")").appendTo(d),d.parent().show(),d.val("all"));d=w.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();for(var g=V+ca+na+ka,p=f=0;f<g;)for(var q=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),r=0;3>r&&f<g;r++,f++,p++)if(p<V){var t=ha[f].thumb,A=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(q);A.find(".ivThumbImage").css("background",
'url("'+h.getResizedThumbnailURL(t)+'") center no-repeat')}else if(p>=V&&p<ca+V)t=ia[f-V].thumb,A=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(f-V)).appendTo(q),A.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(t)+'") center no-repeat');else if(p>=V+ca&&p<ca+V+ka)A=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(q),A.find(".ivThumbImage").css("background",'url("'+
(b.isDefined(B.staticImages.icon360)?h.getResizedThumbnailURL(B.staticImages.icon360,!0):"")+'") center no-repeat');else if(t=ga[f-ca-V-ka],A=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(f-ca-V-ka)).appendTo(q),A.find(".ivThumbImage").css("background",'url("'+t.thumbUrl+'") center no-repeat'),b.isDefined(t)){var u={position:"triggerTop"},l=w.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");
l.find(".ivVideoPopoverTitle").text(t.title);l.find(".ivVideoPopoverDuration").text(t.durationTimestamp);u.inlineContent=l[0];c.declarative.create(A,"a-tooltip",u)}d=w.find("#ivVideoList");d.find(".ivThumbVideoListOuter").not(".placeholder").remove();g=d.find(".placeholder");for(f=0;f<na;f++)p=ga[f],q=g.clone().removeClass("placeholder").appendTo(d),q.attr("id","ivVideoList_"+f),q.find(".ivThumbImage").css("background",'url("'+p.thumbUrl+'") center no-repeat'),q.find(".ivThumbTitle").text(p.title),
q.find(".ivThumbDuration").text(p.durationTimestamp);w.find("#ivLarge360").empty();oa=0;Ia=Ha=!1;va=B.airyConfig;Ma=!1;Qa()}}else n.performance&&performance.now&&n.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else k.postCountMetric("immersiveViewNotExistsClickCount")}function ua(a){var d=B.colorToAsin[a],c={},e=500;if(d&&d.asin){c.params={asin:d.asin};var f="360"+d.asin,p=Date.now();c.success=function(d){y("dppc_asyncRequestTime360",
Date.now()-p);d&&b.isDefined(d.spin360.spin360Model)?(b.ajaxState(f,"success"),B.spin360ColorData[a]=d.spin360.spin360Model,a===aa.getCurrentItem().color&&(T=B.spin360ColorData[a],g())):c.error()};c.error=function(){k.postCountMetric("dppc_asyncFailed360");y("dppc_asyncRequestTime360",Date.now()-p);e*=2;16E3>=e?setTimeout(function(){p=Date.now();m.load("/gp/product/features/apparel-main-image/360.html",c)},e):b.ajaxState(f,"fail")};b.ajaxState(f)&&"fail"!==b.ajaxState(f)||(m.load("/gp/product/features/apparel-main-image/360.html",
c),b.ajaxState(f,"sent"))}}function Y(){return b.isDefined(B.spin360ConfigEnabled)&&B.spin360ConfigEnabled}var Z,B,aa,ja,W,w,ha,ia,ga,V,ca,na,ka,P,da,va,T,Na,ma,qa,ta,sa,fa,Ja,Oa=!1,Ha=!1,Ia=!1,wa=0,xa=0,ra=0,Ga=0,Ca=!1,Ba=!1,oa=0,Ka,Pa=navigator.userAgent.match(/msie|trident/i),Ma=!0,Aa=!1,za=!1,Fa={},pa={},Ea,Da,La;x.when("a-modal").execute(function(a){La=a});var Qa=c.once(function(){M();ea();ya();c.on("a:popover:afterUpdatePosition:immersiveView",H);c.on("a:popover:afterShow:immersiveView",A);
c.on("a:popover:afterHide:immersiveView",R);G()});return function(d,g,f,p){Z=this;B=d;aa=g;e.refToModel=aa;ja=p;Y()&&(B.spin360ColorData[B.landingAsinColor]=B.spin360ColorData[B.defaultColor],B.spin360ColorEnabled[B.landingAsinColor]=B.spin360ColorEnabled[B.defaultColor]);b.isDefined(B.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",h.addStyleCodeToURL(B.staticImages.icon360,"_FMpng_RI_"));Z.render=function(a,d,g,e,f,p){Ma=!0;Y()&&B.spin360ColorEnabled[a]&&
!b.isDefined(B.spin360ColorData[a])&&(B.spin360ColorData[a]={},ua(a));b.isImmersiveViewEnabled(B,aa.getCurrentItem().color)&&Y()&&B.spin360ColorEnabled[a]&&(d===B.maxAlts&&(a=e.find(".item.imageThumbnail"),g=e.find(".item.videoThumbnail"),b.isDefined(g)&&1<g.length?g.last().remove():a.last().remove(),d--),a=e.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(a,"button-360-click"),e.append(a),d++,k.postCountMetric("dppc_display360"));
return d};Z.update=function(a){};b.isImmersiveViewEnabled(B,aa.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");ja.register("imageClick",la);ja.register("button360Click",la)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(c,a,b,m,k,e,C){function h(){var b=M.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),e=b.find(".a-popover-inner"),
b=b.height()-C.getDimension(e,"padding-top")-C.getDimension(e,"padding-bottom");a("#iv-tab-view-container").css("height",b);N=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<N?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),e=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),b-=e):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",b);
c.trigger("dp:image-block:immersive-view:resize")}function l(){c.trigger("dp:image-block:immersive-view:reset")}function G(h){if(b.isImmersiveViewEnabled(H,M.getCurrentItem().color))if(L){var t=h.$event.originalEvent;t.acknowledge&&t.acknowledge(h.$currentTarget[0]);k.isEnabled&&e.logImmersiveViewRequestServed(k);m.postCountMetric("dppc_immersiveViewOpened");b.isDefined(h)&&("button-360-click"===h.action?a("#iv360TabHeading").click():"videoIngressClick"===h.action?(O=h.clickTimeStamp,a("#ivVideosTabHeading").click()):
"showroomIngressClick"===h.action?(O=h.clickTimeStamp,a("#ivShowroomTabHeading").click()):a("#ivImagesTabHeading").click());t=M.getImmersiveViewModalInstance();if(b.isDefined(t))t.show();else{h=a("#auiImmersiveViewDiv");var t=Math.min(Math.max(a(n).height()-150,540),1080),r=Math.min(Math.max(a(n).width()-75,990),1980),t=L.create(h,{name:"immersiveView",activate:"onclick",width:r,height:t,popoverLabel:"ImmersiveView",hideHeader:!0});M.setImmersiveViewModalInstance(t);h.click()}I&&(I=!1,f(),c.trigger("dp:image-block:immersive-view:init"))}else n.performance&&
performance.now&&n.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else m.postCountMetric("immersiveViewNotExistsClickCount")}var D,H,M,z,I=!0,N=0,O,L;x.when("a-modal").execute(function(a){L=a});var f=c.once(function(){c.on("a:popover:afterUpdatePosition:immersiveView",h);c.on("a:popover:afterShow:immersiveView",h);c.on("a:popover:afterHide:immersiveView",l)}),A=c.once(function(){var b=a("#iv-tab-view-container ul.iv-tab-views li");b.bind("click",
function(e){var f=b.filter(".iv-active");f.attr("id")!==a(this).attr("id")&&c.trigger("dp:ivTabs:"+f.find("a").attr("data-iv-tab-view")+":deselect",e);b.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();f=a(this).find("a").attr("data-iv-tab-view");a("#"+f).show();"ivVideosTab"===f&&(e.clickTimeStamp=O||e.timeStamp);c.trigger("dp:ivTabs:"+f+":select",e);m.postCountMetric("dppc_"+f);return!1})});return function(a,c,e,f){D=this;H=a;M=c;k.refToModel=
M;z=f;D.render=function(a,b,c,d,g,e){m.postCountMetric("dpcc_altThumbs_"+b);I=!0};D.update=function(a){};D.getTitle=function(){};D.getVariationSelectionInfo=function(){};A();b.isImmersiveViewEnabled(H,M.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");z.register("imageClick",G);z.register("button360Click",G);b.useTabbedImmersiveView(H)&&(z.register("videoIngressClick",G),z.register("showroomIngressClick",G))}});"use strict";x.when("A").register("ImageBlockLoader",function(c){return{load:function(a,
b){b=b||{};b.timeout=b.timeout||4E3;c.ajax(a,b)}}});"use strict";x.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric").register("imageBlockUtils",function(c,a,b,m,k,e,C,h){function l(a){return null!==a&&"undefined"!==typeof a}function G(b){var g=0;a.each(b,function(a,b){var d=parseInt(b[1],10);d>g&&(g=d)});return g}function D(b){var g=0;a.each(b,function(a,b){var d=parseInt(b[0],10);d>g&&(g=d)});return g}function H(a,b,c){b=b.width();
if(c.naturalMainImageSize)return b;a=G(a);0<a&&(b=Math.min(b,a));return b}function x(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=D(a);0<a&&(b=Math.min(b,a));return b}function z(b){var g;a.each(b,function(a,b){l(g)||(g=b[1]/b[0])});return g||1}function I(a,b,c){b.fadeTo(500,0,function(){O(a,c);b.fadeTo(500,1)})}function N(a){a&&a.toggle()}function O(b,g){var c=g.find("img");l(c[b])&&a(c[b]).click()}function L(a,b){v[a]=b?b:v[a];return v[a]}function f(b,g,c){c=c||J;c=c.colorImages;if(1>
c.length||!l(c[b])||!l(g))return-1;var e=-1;a.each(c[b],function(a,b){b.variant===g&&(e=a)});return e}function A(b,g,c){c=c||J;c=c.colorImages;return!(l(c)&&l(c[b])&&l(c[b][g])&&l(c[b][g].main))||1>a.map(c[b][g].main,function(a,b){return b}).length?-1:c[b][g]}function q(a,b,c,e){e.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?e.css("width",b/a*100+"%"):e.css("height",a/b*100+"%"))}function t(b,c){var e;if(e=b.useIV)e=b.colorImages&&b.colorImages[c]&&0<b.colorImages[c].length?!0:!1;C.isEnabled&&
(C.IVApplicaple=e,h.logImmersiveViewApplicability(a,C));return e}var r,y,F,J=a.extend(!0,{},k,e),v={};return{isDefined:l,isDefinedAndEmpty:function(a){return l(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return l(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return l(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:z,getMaxHeightOfMainImage:x,getMaxWidthOfMainImage:H,
getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var e=x(a,b,c);b=H(a,b,c);a=z(a);c=b/a;b=Math.min(b,e*a);e=Math.min(e,c);return[e,b]},getContainerHeight:function(a,b,c){var e=a.get(0);a=0;if(l(e)){a=e.offsetWidth/b;a=Math.min(a,c);var f;b=J.mainImageHeightPartitions;c=J.mainImageMaxSizes;if(l(c)&&l(b)){for(var h=0,q=n.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e=0;e<b.length;e++)q>b[e]&&(h=e+1);c.length>=h&&(f=c[h])}l(f)&&
(a=Math.min(f[1],a))}return a},getColorFromState:function(b,c){if(b){c=c||J;var e="";a.each(c.visualDimensions,function(a,c){b[c]&&(e+=" "+b[c])});return e&&e.substring(1)}},createThumbnail:function(a,b,e,f){var h=e.find(".template").clone().removeClass("template").addClass("item"),q=document.createElement("img");q.src=b;h.find(".placeHolder").replaceWith(q);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&h.addClass("heroImageThumbnail");l(f)&&h.addClass(f);c.declarative.create(h,"thumb-action",
a);h.attr&&h.attr("data-ux-click","");e.append(h)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(c,e,f,h,q,A,t,k){var l=a.extend({},f.foresterMetadataParams);null!==h&&(l.method+="."+h);var C=[];e.disabledViewIds&&(C=e.disabledViewIds);return b.embed({parentElement:c[0],streamingUrls:e.url,contentId:e.mediaObjectId,
contentMinAge:Number(e.minimumAge||"")||0,contentTitle:e.title,swfUrl:f.swfUrl,foresterMetadataParams:l,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:e.slateUrl,postMediaSlate:e.slateUrl},videoAds:f.videoAds,bindings:{play:function(){"ImmersiveView"===h?r||(r=!0,m.postCountMetric("dppc_chromefulVideoPlayedIV")):y||(y=!0,m.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:e.durationSeconds-1,type:"position",callback:function(a,b,c){q&&(I(0,A,
k),N(t))}}],disabledViewIds:C})},loadMediaIntoAiry:function(a,b,c,e){a&&a.getMediaSourceInfo()!==b.url&&(e?(F={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(F)):a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},
hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:I,toggleVideoCaption:N,selectThumbnail:O,spinner:function(b,c){var e=a("#imageBlock .a-spinner").parent();0===e.length&&(e=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",
height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?e.show():e.hide();return e},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:L,getIndexForVariant:f,getImageHash:A,lazyLoadingRequired:function(a,b,c){b=Math.max(f(a.color,b.getCurrentItem().variant,c),0);b=-1!==A(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==L(a);return!c.lazyLoadExperienceDisabled&&
!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:q,repositionVideoBanner:function(a,b,c,e){setTimeout(function(){var c=a.width()/a.height();q(c,16,9,b)},e||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!l(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return l(a)&&l(a[b])&&l(a[b].url)?a[b]:-1},isImmersiveViewEnabled:t,
playVideoInImmersiveView:function(a,b){return t(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return l(F)?F.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){n.ue&&n.ue.tag&&
n.ue.tag(a)}}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(c,a,b,m){function k(c,e,f,h){if(!b.isjQueryObjDefined(c.find(".a-button-selected"))){var l=I.getCurrentItem();if(!h||"chromeless-video"!==l.type||!z.autoplayVideo){h=0;if("hero-image"===l.type){h=C(l.color,l.variant);if(-1===h)return;h=-1!==h?h:0}var k=e+h;k>=f&&(h=0,k=e);e=m.getHeroImageHash(z,l.color,h);-1!==e&&(N.dispatch("updateModel",{data:{index:h,thumbnailIndex:k,
variant:e.variant,type:"hero-image"}}),e=c.find(".item").get(k),b.selectGivenThumbnail(a(e),c))}}}function e(c,e,f){if("hero-video"===I.getCurrentItem().type)return c;e=z.heroImage&&z.heroImage[e];var h=c;b.isDefined(e)&&(a.each(e,function(a,e){c<z.maxAlts&&(b.createThumbnail({type:"hero-image",index:a,thumbnailIndex:c,variant:e.variant},e.thumb,O,"imageThumbnail"),c++)}),k(O,h,c,f));return c}function C(c,e){var f=z.heroImage;if(1>f.length||!b.isDefined(f[c])||!b.isDefined(e))return-1;var h=-1;a.each(f[c],
function(a,b){b.variant===e&&(h=a)});return h}function h(){if(L.length&&z.repositionHeroImage){var a=m.getHeroDimParams(z,I.getCurrentItem()),c;b.isDefined(a)&&(c=b.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",L.css({"background-position":c,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function l(a,c,e,f){if(L.length&&a&&c){if("function"===typeof e||f){var h=new Image;h.onload=f?function(){L.css("background-image",
'url("'+a+'")')}:e;h.src=a}e=c[1];var h=c[0],l;f||L.css({"background-image":'url("'+a+'")'});z.repositionHeroImage&&(c=m.getHeroDimParams(z,I.getCurrentItem(),c),b.isDefined(c)&&(e=c.width,h=c.height,l=b.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+"px "));L.css({"background-position":l,"background-size":e+"px "+h+"px ","max-width":e+"px ","min-height":h+"px ",filter:"","-ms-filter":""})}}function G(b,c,e,f){b=m.getHeroImageHash(z,b,c);if(-1===b)return-1;c=a.map(b.main,function(a,
b){return b})[0];l(c,b.main[c],e,f)}function n(a,b,c){if("hero-image"!==a.type)return-1;var e=C(a.color,I.getCurrentItem().variant),e=-1!==e?e:0;if(-1===m.getHeroImageHash(z,a.color,e))return-1;var f=I.getCurrentItem();a.thumbnailIndex=f.thumbnailIndex;a.type=f.type;a.variant=f.variant;a.index=e;H(a,b,c)}function H(a,b,e){var h=m.getHeroImageHash(z,a.color,a.index),l;l=a&&f&&c.equals(a,f)?!0:!1;f||(f=a);if(!l&&a||b)G(a.color,a.index,b,e),f=a;L.removeClass("hide-background");c.trigger("dp:image-block:update",
h)}var x,z,I,N,O,L,f={};return function(c,f,l,k){x=this;z=c;I=f;N=k;z.heroImage[z.landingAsinColor]=z.heroImage[z.defaultColor];x.render=function(b,c,f,h,d,g,l){O=h;L=a("#heroImage");b=e(c,b,g);n(I.getCurrentItem(),l,g);return b};x.update=function(a){var c=a.data;"ingress"!==c.type&&L.addClass("hide-background");"swatchHover"===a.type?a.captured||(c.type=I.getCurrentItem().type,-1!==n(c)&&(a.captured=!0)):"hero-image"===c.type&&(H(c),"click"!==a.type&&z.usePeekHover||b.selectGivenThumbnail(a.$declarativeParent,
O))};N.register("resize",h)}});"use strict";x.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(c,a,b){var m,k,e,C;return function(a,l,n,D){m=this;k=a;e=D;m.render=function(a,e,h,l,n,G,D){C=l;m=this;h=k.maxAlts;l=e;n=k.colorImages[a]?k.colorImages[a].length:0;n+=b.getVideosCount(a,k);a=k.heroImage[a];G=0;a&&(G=a.length);a=n+G;a>h&&(h=a-h,a=C.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),h+="+",
l={type:"ingress",index:0,thumbnailIndex:e,variant:""},a.find("#altIngressText").append(h),c.declarative.create(a,"thumb-action",l),C.append(a),l=e++);return l};m.update=function(a){"ingress"===a.data.type&&"click"===a.type&&e.dispatch("imageClick",a)}}});"use strict";x.when("imageBlockUtils").register("ImageBlockState",function(c){return function(a,b,m){this.getImageHash=function(b){var e=m.getCurrentItem();b=c.getIndexForVariant(e.color,b||"MAIN",a);return c.getImageHash(e.color,b,a)};this.onImageUpdateForTwister=
function(a){b.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});"use strict";x.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(c,a){function b(a,b){var c;if(b.repositionHeroImage){c=a[1];var l=a[0];if(768>=(n.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,l*=.7;else{var k=((n.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,k=Math.max(Math.min(k,1),0);
c*=.7+.3*k;l*=.7+.3*k}c=[c,l]}return c}function m(b,c,h){var l;if(h.repositionHeroImage){var k=n.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;h=h.heroFocalPoint;if(a.isDefined(h)){l=Math.max((k-Math.min(1500,b))/2,0);var m=Math.max((k-b)/2,0);l-=m;k=Math.max(Math.min(k,1500),1024);l=l+(k-420-23)/2-b/c[1]*h}}return l}function k(b,k,h){b=b.heroImage;return!(a.isDefined(b)&&a.isDefined(b[k])&&a.isDefined(b[k][h])&&a.isDefined(b[k][h].main))||1>c.map(b[k][h].main,function(a,
b){return b}).length?-1:b[k][h]}return{getHeroImageHash:k,getHeroDimParams:function(e,C,h){if(e.repositionHeroImage){if(!a.isDefined(h)){h=k(e,C.color,C.index);if(-1===h)return;C=c.map(h.main,function(a,b){return b})[0];h=h.main[C]}C=b(h,e);e=m(C[0],h,e);return{height:C[1],width:C[0],xPos:e,yPos:75}}}}});"use strict";x.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(c,a,b){function m(a,k){var h=c.copy(a);if(b.isDefined(a)&&a.length>k){try{for(var l=-1,m=0;m<a.length;m++){var n=
a.charAt(m);if(" "===n||"."===n||"?"===n||";"===n||","===n||":"===n)l=m;if(m===k-4){h=a.substring(0,-1===l?m:l);break}}}catch(x){h=a.substring(0,k-3)}h+="..."}return h}function k(a,b){var c=a.lastIndexOf(".");return a="_"===a.charAt(c-1)?a.substring(0,c-1)+b+a.substring(c):a.substring(0,c)+"."+b+a.substring(c)}return{getDimension:function(a,b){var c=parseInt(a.css(b),10);return isNaN(c)?0:c},attachTabSelectHandler:function(a,b){c.on("dp:ivTabs:"+a+":select",b)},attachTabDeselectHandler:function(a,
b){c.on("dp:ivTabs:"+a+":deselect",b)},attachImmersiveViewResizeHandler:function(a){c.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){c.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){c.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(b){a("#"+b).hide()},unhideTabHeading:function(b){a("#"+b).show()},addStyleCodeToURL:k,getResizedThumbnailURL:function(a,b){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,
"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var c="_AA50_";b&&(c+="FMpng_RI_");return k(a,c)},populateVariationSelection:function(c){if(b.isDefined(n.DetailPage)&&b.isDefined(n.DetailPage.StateController)){c.empty();var k=n.DetailPage.StateController.getState(),h=k.variation_label_order,l;for(l in h)if(h.hasOwnProperty(l)){var m=h[l],x=k.selected_variations[m],m=k.variation_display_labels[m];x&&a("\x3cdiv/\x3e").addClass("ivVariations").text(m+
":"+x).appendTo(c)}}},populateTitle:function(a,b,c){a.html(c.title);a.attr("title",a.text());a.html(m(c.title,b))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,b){a.animate({opacity:.4},100,b)},logError:function(a,b,c,k){n.ueLogError&&n.ueLogError(k,{logLevel:a,attribution:b,message:c})}}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(c,a,b,m,k){function e(){k.populateTitle(t.find("#ivTitle"),
160,A)}function n(){var a=q.getCurrentItem().color;y=A.colorImages[a];r=A.heroImage[a];F=J=0;b.isDefined(r)&&(F=r.length);b.isDefined(y)&&(J=y.length)}function h(a){return a.hiRes||a.large||a.main[a.main.length-1]}function l(){var a=t.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var f=e.width(),g=e.height();0<e.length&&(e[0].naturalWidth&&(f=e[0].naturalWidth),e[0].naturalHeight&&(g=e[0].naturalHeight));a.css("cursor","auto");var f=
0===f?1:f,g=0===g?1:g,h=Math.min(b/f,c/g),k=g*h,l=f*h;1>h?(d?a.css("cursor","url('"+A.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),u=!0):u=!1;f=Math.min(l,f);g=Math.min(k-20,g);e.css({"margin-top":(c-g)/2,"margin-left":(b-f)/2,height:g,width:f});a.css("visibility","visible");p=!1}function x(a){var b=t.find("#ivLargeImage");b.css("visibility","hidden");b.empty();k.animateStageIn(b);b.append(a);l()}function D(c){t.find("#ivLargeImage").css("display",
"none");t.find("#ivLargeImage").css("display","block");var e;"hero-image"===c?b.isDefined(r)&&(e=h(r[v.index])):b.isDefined(y)&&(e=h(y[v.index]));if(b.isDefined(e)){t.find(".fullscreen").remove();var d=a("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),f=t.find("#ivLargeImage");k.animateStageOut(f,function(){d.load(function(){x(d)});if(d[0].complete)x(d);else{f.empty();var b=(f.height()-104)/2,c=(f.width()-80)/2;a("\x3cimg\x3e").attr("src",A.staticImages.spinner).css({position:"relative",top:b+
"px",left:c+"px"}).appendTo(f)}})}}function H(a){t.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?v.type="hero-image":v.type="image";v.index=a.attr("id").split("_")[1];D(v.type);m.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(v.index,10)+1)+"_"+(F+J))}function M(){t.delegate(".ivThumb","click",function(){var b=a(this);H(b)})}function z(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function I(a){var b=X.top-(a.pageY-K[1])*E;a=z(X.left-(a.pageX-K[0])*E,U.left);
b=z(b,U.top);t.find(".fullscreen").css({left:a,top:b})}function N(){t.delegate("#ivLargeImage","click",function(a){if(p)l();else if(u){t.find(".fullscreen").removeAttr("style");if(u){var b=t.find("#ivLargeImage"),c=b.find(".fullscreen");d?b.css("cursor","url('"+A.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));p=!0;var e=t.find("#ivLargeImage");U.left=e.width()-c.width();U.top=e.height()-c.height();var e=b.height()/2,
f=b.width()/2;K=[b.offset().left+f,b.offset().top+e];X.top=e-c.height()/2;X.left=f-c.width()/2;c.css({position:"relative",left:X.left,top:X.top});E=Math.max(c.height()/b.height(),c.width()/b.width())}I(a);m.postCountMetric("dpcc_iv_largeImageCLick")}});t.delegate("#ivLargeImage","mousemove",function(a){p&&I(a)})}function O(){t.find("#ivLargeImage").empty()}function L(c){if(g){t=a("#ivMain");n();v=q.getCurrentItem();e();k.populateVariationSelection(t.find("#ivVariationSelection"));c=t.find("#ivThumbs");
c.find(".ivRow").not(".placeholder").remove();for(var f=F+J,d=0,h=0;d<f;)for(var l=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),m=0;4>m&&d<f;m++,d++,h++)if(h<F){var p=r[d].thumb,u=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+d).appendTo(l);u.find(".ivThumbImage").css("background",'url("'+k.getResizedThumbnailURL(p)+'") center no-repeat')}else h>=F&&h<J+F&&(p=y[d-F].thumb,u=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(d-F)).appendTo(l),u.find(".ivThumbImage").css("background",'url("'+k.getResizedThumbnailURL(p)+'") center no-repeat'));Q();g=!1}else e();c=a("#ivImagesTab").height();t.css("height",c);f=t.find("#ivTitle").outerHeight(!0);d=t.find("#ivVariationSelection").outerHeight(!0);h=t.find("#ivThumbs");l=k.getDimension(h,"margin-top")+k.getDimension(h,"margin-bottom");h.css("height",c-f-d-l);t.find("#ivLargeImage").css("height",c);c=t.find("#ivStage");f=t[0]&&t[0].getBoundingClientRect&&Math.floor(t[0].getBoundingClientRect().width)||
t.width();c.css("width",f-k.getDimension(t,"padding-left")-k.getDimension(t,"padding-right")-t.find("#ivThumbColumn").width()-k.getDimension(c,"margin-left")-k.getDimension(c,"margin-right"));v=q.getCurrentItem();c="hero-image"===v.type?t.find("#ivHeroImage_"+v.index):"image"===v.type?t.find("#ivImage_"+v.index):b.isDefined(r)?t.find("#ivHeroImage_"+v.index):t.find("#ivImage_"+v.index);b.isjQueryObjDefined(c)||(c=t.find("#ivImage_0"));H(c)}var f,A,q,t,r,y,F,J,v,d=navigator.userAgent.match(/msie|trident/i),
g=!0,p=!1,u=!1,U={},X={},E,K,g=!0,Q=c.once(function(){M();N();k.attachImmersiveViewResizeHandler(L);k.attachTabDeselectHandler("ivImagesTab",O)});return function(b,c,e,d){f=this;A=b;q=c;f.render=function(b,c,e,d,f,h){g=!0;n();0===F+J?k.hideTabHeading("ivImagesTabHeading"):k.unhideTabHeading("ivImagesTabHeading");1===F+J?a("#ivThumbs").hide():a("#ivThumbs").show()};f.update=function(a){};k.attachTabSelectHandler("ivImagesTab",L)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils",
"vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(c,a,b,m,k,e,C){function h(){y.delegate(".ivThumb","click",function(){var b=a(this);y.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivThumbVideo")&&(F.type="chromeful-video",F.index=b.attr("id").split("_")[1])})}function l(){if(ba){var b=a("#ivVideosTab").height();y.css("height",b);var c=y.find(".vse-lb-container");J=b-k.getDimension(c,"padding-top")-k.getDimension(c,"padding-bottom");
c.css({"max-height":b,overflow:"hidden"});if(Q){y.css({"max-width":Math.floor(1.77*J)});return}var b=y.find(".vse-player-container"),c=y.find(".vse-video-action-strip"),e=y.find(".vse-lb-video-metadata"),d=Math.floor(J-k.getDimension(e,"height")-k.getDimension(c,"height")),f=Math.floor(1.77*d);b.css({"max-height":d,"max-width":f,marginLeft:"auto",marginRight:"auto"});e.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}ea&&(b=y.find(".vse-vertical-scroll"),
c=k.getDimension(b,"margin-top")+k.getDimension(b,"margin-bottom"),b.css("max-height",J-c))}function x(){D();v&&v.pause();R=!1;E=!0;u=null;S=!0;ba=!1}function D(){R=!1;v&&v.pause()}function H(e){u=e.clickTimeStamp?e.clickTimeStamp:c.now();b.isDefined(r)&&(r.eventTimestamp=u);K&&(C.get(c,"#ivVideoBlock",t,Y,Z),y=a("#ivVideoBlock"),q.getCurrentItem(),F=q.getCurrentItem(),ya());l();R=!0;K=!1;I()}function M(b){K&&(y=a("#ivVideoBlock"),q.getCurrentItem(),F=q.getCurrentItem(),ya());R&&I();l()}function z(a){v=
a.player;ba&&(L(),I())}function I(){if(v&&R&&(y.find(".vse-lb-container").animate({opacity:1},200),v.play(r),m.postCountMetric("dpcc_vse_videoBlock_video_played"),E)){var a=n.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,m.postTimeMetric("dpcc_vse_vitff",a),E=!1)}}function N(){c.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function O(a){d=a.popover.$popover;ba=!0;L()}function L(){ba&&S&&R&&v&&(d.addClass(c.$(d).find(".vse-lb-container").data("cssClass")),c.trigger("vse:detailpage-imageblock:page:lightBoxOpened",
{lightBoxId:"ivVideoBlock",assetSpec:r}),l(),S=!1)}var f,A,q,t,r,y,F,J,v,d,g,p,u,U,X,E=!0,K=!0,Q=!1,ea=!1,R=!1,S=!0,ba=!1,ya=c.once(function(){h();k.attachImmersiveViewResizeHandler(M);k.attachTabDeselectHandler("ivVideosTab",D);k.attachImmersiveViewResetHandler(x)}),la=function(c,e,d){a("#ivVideoBlockSpinner").addClass("aok-hidden");m.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+e.placement);c=q.getCurrentItem().color;c=b.getVideoHash(c,0,A);v||(v=b.createAiryInstanceForChromeful(a("#ivVideoBlock"),
c,A.airyConfig,"ImmersiveView"));Q=!0;a("#ivVideoBlock").css({"max-width":1.77*J,margin:"0 auto"});R&&Q&&v.play({isAsync:!0})},fa=function(b,c,e){K||C.get(b,"#ivVideoBlock",t,Y,Z);a("#ivVideoBlockSpinner").addClass("aok-hidden")},Y=function(a,b,c){ea=!0;l()},Z=function(a,b,c){m.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,d,h,l){f=this;A=a;q=d;f.render=function(a,d,f,h,l,m){a=q.getCurrentItem().color;d=b.getVideoHash(a,
0,A);!0===m?g=A.mediaAsin:(g=A.colorToAsin[a]&&A.colorToAsin[a].asin,g=b.isDefined(g)?g:A.mediaAsin);p=null!==A.vseVideoDataSourceTreatment&&"T1"===A.vseVideoDataSourceTreatment?"ASIN":"physicalID";U=A.contentWeblab;X=A.contentWeblabTreatment;K=!0;-1===d?k.hideTabHeading("ivVideosTabHeading"):(k.unhideTabHeading("ivVideosTabHeading"),t={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:d.marketPlaceID,locale:d.languageCode,product:{contentID:g,contentIDType:"ASIN"},video:{contentID:d.mediaObjectId,
contentIDType:p,videoURL:d.url,imageURL:d.slateUrl},requestId:A.dpRequestId,weblabContext:[{name:U,assignment:X,ignoreForG2S2Key:!0}],metadata:{ProductTitle:A.title}},r={videoUrl:t.video.videoURL,contentId:t.video.contentID,duration:0,vendorCode:"",eventTimestamp:b.isDefined(u)?u:c.now(),imageUrl:t.video.imageURL,productAsin:t.product.contentID,index:0},b.isDefinedAndNotEmpty(v)&&(v.destroy(),v=null),e.get(c,"#ivVideoBlock",t,fa,la))};f.update=function(a){};k.attachTabSelectHandler("ivVideosTab",
H);c.on("vsePlayer-detailpage-imageblock",z);c.on("a:popover:afterShow:immersiveView",O);c.on("a:popover:beforeHide:immersiveView",N)}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(c,a,b,m,k,e,n,h,l){function x(){var b=a("#iv360Tab").height();E.css("height",b);var c=E.find("#ivTitle360").outerHeight(!0),e=E.find("#ivVariationSelection360").outerHeight(!0),
d=E.find("#ivThumbs360"),f=n.getDimension(d,"margin-top")+n.getDimension(d,"margin-bottom");d.css("height",b-c-e-f);b=E.find("#ivStage360");c=E[0]&&E[0].getBoundingClientRect&&Math.floor(E[0].getBoundingClientRect().width)||E.width();b.css("width",c-n.getDimension(E,"padding-left")-n.getDimension(E,"padding-right")-E.find("#ivThumbColumn360").width()-n.getDimension(b,"margin-left")-n.getDimension(b,"margin-right"))}function D(){I();var a=E.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});
n.animateStageIn(a)},200);H()}function H(){if(0<w){var a=E.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function M(b,c){if(w<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*Q+"px",height:ea+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(w++,1===w&&(H(),0<B&&(k.time("dppc_loadTime360",Date.now()-B,u.mediaAsin),e.postTimeMetric("dppc_loadTime360",Date.now()-B))),0<aa&&(k.time("dppc_perSpriteloadTime360",
Date.now()-aa,u.mediaAsin),e.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-aa)),E.find("#iv360Spinner").hide(),d.show(),Y=5*K.imageLocations[Math.floor(Z/K.imageLocations[0].length)][Z%K.imageLocations[0].length],M(b,c))};d.attr("src",b[w].replace(/(\._SP)\d+(,)\d+/,"$1"+S+"$2"+R));aa=Date.now()}}function z(a){if(b.isDefined(K.spriteWidthSizes)&&0<K.spriteWidthSizes.length){var c=K.spriteWidthSizes,d=c.length,e=c[0],f=c[d-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<d;e++)if(a>c[e]&&a<=c[e+
1])return c[e+1]}else return a}function I(){var b=E.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",u.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",
left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),la=!0,N())}function N(){if(b.isDefined(K.spriteURLs)&&b.isDefined(E)&&la&&!ua){var c=E.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(K.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",K.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(u.staticStrings.dragToSpin).appendTo(d);
d.appendTo(c);var d=K.imageWidth,e=K.imageHeight,g=c.parent().width(),h=c.parent().height(),k=0,l=0;d/e>g/h?(S=z(g),R=Math.round(e/d*S),Q=Math.ceil(g),ea=Math.ceil(R/S*g),l=(h-ea)/2):(R=z(h),S=Math.round(d/e*R),ea=Math.ceil(h),Q=Math.ceil(S/R*h),k=(g-Q)/2);c.css({"margin-left":k,"margin-top":l,width:Q+"px",height:ea+"px",overflow:"hidden",position:"relative"});c.children("#image-360-sprites").css("width",6*Q+"px");M(K.spriteURLs,E.find("#image-360-sprites"),0);d=E.find("#ivLarge360");d.bind("mousedown",
A);d.bind("touchstart",O);d.bind("touchmove",L);d.bind("touchend",f);a(document).bind("mousemove",q);a(document).bind("mouseup",t);b.isDefined(u.staticImages.grab)&&c.css("cursor","url('"+u.staticImages.grab+"'), auto");ua=!0}}function O(a){W=!0;fa=a.originalEvent.targetTouches[0].clientX}function L(a){W&&(r(a.originalEvent.targetTouches[0].clientX-fa),fa=a.originalEvent.targetTouches[0].clientX)}function f(a){W&&(W=!1)}function A(a){ja=!0;ba=a.originalEvent.clientX;b.isDefined(u.staticImages.grabbing)&&
(a=E.find("#ivLarge360"),a.css("cursor","url('"+u.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+u.staticImages.grabbing+"'), auto"));return!1}function q(a){ja&&(r(a.originalEvent.clientX-ba),ba=a.originalEvent.clientX)}function t(a){ja&&(ja=!1,b.isDefined(u.staticImages.grab)&&(a=E.find("#ivLarge360"),a.css("cursor","url('"+u.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function r(a){Y-=a/Q*180;ia&&(k.count("dppc_360dragToSpin",
u.mediaAsin),e.postCountMetric("dppc_360dragToSpin"));ia=!1;for(a=Y;0>a;)a+=360;for(;360<a;)a-=360;Y=a;var c;a=360;for(var d=0;d<w;d++)for(var f=0;f<K.imageLocations[d].length;f++){var g=Math.abs(Y-5*K.imageLocations[d][f]);g<a&&(a=g,c=d*K.imageLocations[0].length+f)}c!==Z&&(a=Math.floor(c/K.imageLocations[0].length),a!==Math.floor(Z/K.imageLocations[0].length)&&(b.isDefined(ha)||(ha=document.createElement("canvas").getContext("2d")),d=E.find("#image-360-sprites").children(),ha.drawImage(d[a],0,0)),
a=E.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));Z=c;a=c%K.imageLocations[0].length*-1*Q;c=-1*Math.floor(c/K.imageLocations[0].length)*ea;d=E.find("#ivLarge360").children("#image-360-sprites");d.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");d.css("transform","translate3d("+a+"px, "+c+"px, 0)")}function y(){if(V){E=a("#ivMain360");var b=U.getCurrentItem().color;J()&&v(b);K=J()?u.spin360ColorData[b]:void 0;n.populateTitle(E.find("#ivTitle360"),
160,u);n.populateVariationSelection(E.find("#ivVariationSelection360"));E.find("#ivLarge360").empty();w=0;ua=la=!1;Z=Y=0;ca();V=!1}0!==a("#iv360Tab").height()&&(n.detachImmersiveViewResizeHandler(y),x(),D(),B=Date.now(),ga=ia=!0,k.count("dppc_click360",u.mediaAsin),e.postCountMetric("dppc_click360"))}function F(a,c,d){a=u.colorToAsin[d];var f={},g=500;if(!a||!a.asin)if(d===u.defaultColor)a={asin:u.winningAsin};else return;f.params={asin:a.asin};var l="360"+a.asin,p=Date.now();f.success=function(a){k.time("dppc_asyncRequestTime360",
Date.now()-p,u.mediaAsin);e.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);a&&b.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&h.setData(a),b.ajaxState(l,"success")):f.error()};f.error=function(){k.count("dppc_asyncFailedTransient360",u.mediaAsin);e.postCountMetric("dppc_asyncFailedTransient360");k.time("dppc_asyncRequestTime360",Date.now()-p,u.mediaAsin);e.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);g*=2;16E3>=g?setTimeout(function(){p=Date.now();m.load("/gp/product/features/apparel-main-image/360.html",
f)},g):(k.count("dppc_asyncFailed360",u.mediaAsin),e.postCountMetric("dppc_asyncFailed360"),b.ajaxState(l,"fail"))};b.ajaxState(l)&&"fail"!==b.ajaxState(l)||(m.load("/gp/product/features/apparel-main-image/360.html",f),b.ajaxState(l,"sent"))}function J(){return u&&b.isDefined(u.spin360ConfigEnabled)&&u.spin360ConfigEnabled}function v(a){return b.isDefinedAndNotEmpty(u.spin360ColorData[a])?!0:b.isDefined(u.spin360LazyLoadEnabled)&&u.spin360LazyLoadEnabled}function d(){ga&&(k.time("dppc_duration360",
Date.now()-B,u.mediaAsin),e.postTimeMetric("dppc_duration360",Date.now()-B),ga=!1)}function g(a){a=u.colorToAsin[a.color].asin;a||(a=u.mediaAsin);return a}var p,u,U,X,E,K,Q,ea,R,S,ba,fa,la=!1,ua=!1,Y=0,Z=0,B=0,aa=0,ja=!1,W=!1,w=0,ha,ia=!0,ga=!1,V=!0,ca=c.once(function(){n.attachImmersiveViewResizeHandler(y);n.attachImmersiveViewResizeHandler(x);n.attachImmersiveViewResetHandler(d);n.attachTabDeselectHandler("iv360Tab",d)});return function(d,f,m,q){p=this;u=d;U=f;X=q;d=u.landingAsinColor;f=u.defaultColor;
b.isDefined(u.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",n.addStyleCodeToURL(u.staticImages.icon360,"_FMpng_RI_"));J()&&(u.spin360ColorData||(u.spin360ColorData={}),d===f&&b.isDefinedAndEmpty(u.spin360ColorData[f])&&delete u.spin360ColorData[f]);c.on(l.TWISTER_DATA_EVENT,function(a){g(U.getCurrentItem())===a&&(K=h.getData(a),N(),a={type:"updatedData",data:U.getCurrentItem()},X.dispatch("updateView",a))});p.render=function(d,f,l,m,p,q){V=
!0;!J()||b.isDefinedAndEmpty(u.spin360ColorData[d])&&!h.getData(g(U.getCurrentItem()))?n.hideTabHeading("iv360TabHeading"):(u.spin360ColorData[d]=h.getData(g(U.getCurrentItem())),b.isDefinedAndNotEmpty(u.spin360ColorData[d])?(a("#ivThumbs360").hide(),n.unhideTabHeading("iv360TabHeading"),b.isImmersiveViewEnabled(u,U.getCurrentItem().color)&&J()&&v(d)&&(f===u.maxAlts&&(d=m.find(".item.imageThumbnail"),f=m.find(".item.videoThumbnail"),b.isDefined(f)&&1<f.length?f.last().remove():d.last().remove()),
d=m.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(d,"button-360-click"),m.append(d),k.count("dppc_display360",u.mediaAsin),e.postCountMetric("dppc_display360"))):b.isDefined(u.spin360LazyLoadEnabled)&&u.spin360LazyLoadEnabled?(u.spin360ColorData[d]={},n.hideTabHeading("iv360TabHeading"),F(m,f,d)):n.hideTabHeading("iv360TabHeading"))};p.update=function(a){};n.attachTabSelectHandler("iv360Tab",y)}});x.register("nexusLogger360",
function(){return{count:function(c,a){n.ue&&n.ue.event({asin:a,metricName:c,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(c,a,b){n.ue&&n.ue.event({asin:b,metricName:c,metricValue:a},"hit-360","hit360.clientEvent.3")}}});x.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});x.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(c,a){var b={};return{setData:function(m){var k=m.asin;b[k]||(b[k]=m,c.trigger(a.TWISTER_DATA_EVENT,
k))},getData:function(a){return b[a]}}});"use strict";x.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(c,a){try{var b=n.location.host,m={dub:"https://www.amazon.co.uk/vap/ew/",pdx:"https://www.amazon.co.jp/vap/ew/"},k=b.split(".")[1],e=-1===b.indexOf(".proxy.amazon.com")?"/vap/ew/":void 0!==m[k]?m[k]:"https://www.amazon.com/vap/ew/",C="vse_lazyLoaderHook:success:",h="vse_lazyLoaderHook:error:",l="vse_preLoaderHook:success:",G="vse_preLoaderHook:error:",D="vse_lightPlayerLoaderHook:success:",
H="vse_lightPlayerLoaderHook:error:",M=4E3,z=3}catch(I){a.logError("FATAL","vse_ns_desktop","[Domain] ",I)}x.register("vse_ns_preLoaderHook",function(){function b(h,k){try{var f=h.A,m=h.block,q=h.request,t=h.handleFailure,n=h.handleSuccess,y=f.$;k--;var x=z-k-1,C=f.now();f.ajax(e+"componentbuilder",{params:q,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:q.timeout||M,withCredentials:!0,success:function(a){var b=f.now()-C;c.postTimeMetric(l,b);c.postCountMetric(l+
q.page+":"+q.placement+":"+x);y(m).html(a);n(f,q,a)},error:function(a){c.postCountMetric(G+q.page+":"+q.placement+":"+x);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<k?b(h,k):(c.postCountMetric(G,1),t(f,q,a))}})}catch(v){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",v)}}return{get:function(a,c,f,e,h){b({A:a,block:c,request:f,handleFailure:h,handleSuccess:e},z)}}});x.register("vse_ns_lazyLoaderHook",function(){function b(l,k,f){try{var m=l.A,q=l.context,n=l.handleFailure,
r=l.handleSuccess;k.attr("data-configuration");var y=atob(k.attr("data-configuration")),x=JSON.parse(y),D={pageContext:q,configuration:x},v=m.now();f--;var d=z-f-1;m.ajax(e+"subcomponent/"+x.type,{params:D,paramsFormat:"json",method:"post",contentType:"application/json",timeout:q.timeout||M,withCredentials:!0,success:function(a){var b=m.now()-v;c.postTimeMetric(C,b);c.postCountMetric(C+q.page+":"+q.placement+":"+x.type+":"+d);k.html(a);r(m,D,a)},error:function(a){c.postCountMetric(h+q.page+":"+q.placement+
":"+x.type+":"+d);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<f?b(l,k,f):(c.postCountMetric(h,1),n(m,D,a))}})}catch(g){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",g)}}return{get:function(a,c,e,h,l){var k=a.$;k(c+" div[data-configuration]").each(function(){b({A:a,context:e,handleFailure:l,handleSuccess:h},k(this),z)})}}});x.register("vse_ns_videoPlayer",function(){function b(h,l,f){try{var k=h.A,m=h.block,n=h.request,r=h.handleFailure,x=h.handleSuccess,C=k.$;f--;
var G=z-f-1,v=k.now();k.ajax(e+"subcomponent/vseplayer",{params:n,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:n.timeout||M,withCredentials:!0,success:function(a){var b=k.now()-v;c.postTimeMetric(D,b);c.postCountMetric(D+n.page+":"+n.placement+":"+G);C(m).html(a);x(k,n,a)},error:function(a){c.postCountMetric(H+n.page+":"+n.placement+":"+G);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<f?b(h,f):(c.postCountMetric(H,1),r(k,n,a))}})}catch(d){a.logError("FATAL",
"vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",d)}}return{get:function(a,c,e,h,k){b({A:a,block:c,request:e,handleFailure:k,handleSuccess:h},z)}}})});"use strict";x.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(c,a,b,m,k){var e=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=b.colorImages,c=0,l;for(l in a)a[l]&&a[l].length&&(c+=a[l].length);a="image_size_bucket:gt"+e[e.length-1];for(l=1;l<e.length;l++)if(c<=e[l]){a="image_size_bucket:"+e[l-1]+"-"+
e[l];break}k.postCountMetric(a);m.addTag(a)})();(function(){var b=a.colorImages;b&&b.initial&&b.initial.length&&(b=b.initial.length,n.ue&&ue.count&&ue.count("altImageCount",b))})();(function(){var a=b.lazyLoadExperienceDisabled;m.isDefined(b.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),m.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});x.when("A","get-resource-time","postMetric","afterLoad").execute(function(c,a,b){var m=c.state("desktop-landing-image-data");
m&&(m=c.values(m),a=a.getResourceTimeByName("img",m),c.each(a,function(a){a&&(a.responseEnd&&b.postCountMetric("ibDesktopLandingImageDownloadTime",n.parseInt(a.responseEnd)),a.transferSize?b.postCountMetric("ibDesktopLandingImageSizeInBytes",n.parseInt(a.transferSize)):0===a.transferSize&&b.postCountMetric("ibDesktopLandingImageCached",1))}))})});