<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BookShelf</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="css/bootstrap-resume.css">
        <link rel="stylesheet" href="css/bookshelf.css">
</head>
<body>
<form class="form-inline d-flex align-items-center justify-content-center">
    <div class="form-group mr-2">
        <label  for="inputBookName">Book Name:   </label>
        <input  class="form-control" id="inputBookName" placeholder="Book Name">
    </div>
    <div class="form-group mr-2">
        <label for="inputBookAuthor">Author Name:   </label>
        <input class="form-control" id="inputBookAuthor" placeholder="Author Name">
    </div>
    <button type="submit" class="btn btn-primary">Add to Bookshelf!</button>
</form>
<div id="bookshelf">
    <div id="shelf">

    </div>


</div>

<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<script>
    function getRandomColor() {
        var letters = '0123456789ABCDEF';
        var color = '#';
        for (var i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
    }
    $(document).ready(function(){
        $.ajax("data/books.json").done(function(data){
            var postsContents="";
            for (var obj in data){
                var innerObj=data[obj];
                var innerObjContents="";
                var className=innerObj.author.split(" ")
                className[0]=className[0].toLowerCase()
                className=className.join("")
                innerObjContents+="<div class=\"book\">" +
                    "  <div class=\"back\"></div>" +
                    "  <div class=\"page6\"></div>" +
                    "  <div class=\"page5\"></div>" +
                    "  <div class=\"page4\"></div>" +
                    "  <div class=\"page3\"></div>" +
                    "  <div class=\"page2\"></div>" +
                    "  <div class=\"page1\"></div>" +
                    "  <div class='front "+ className+ "'"+"style='background-color: "+getRandomColor()+"'"+">"+
                    innerObj.title + "<br>"+ "<br>"+
                    "Author: " + innerObj.author +
                    "</div>" +
                    "</div>"
                postsContents+=innerObjContents
                //console.log($(".").css())
            }


           //  if ($(".className").css("background-color")===undefined){
           //     $(".className").css("background-color", "orange")
           //     console.log($(".className").css("background-color"))
           // }
            //console.log(postsContents)
            $("#shelf").html(postsContents)
        })
    })
    $("button").click(function(event){
        event.preventDefault()
        var bookTitle=$("#inputBookName").val()
        var bookAuthor=$("#inputBookAuthor").val()
        var currentShelf=$('#shelf').html()
        currentShelf+="<div class=\"book\">" +
            "  <div class=\"back\"></div>" +
            "  <div class=\"page6\"></div>" +
            "  <div class=\"page5\"></div>" +
            "  <div class=\"page4\"></div>" +
            "  <div class=\"page3\"></div>" +
            "  <div class=\"page2\"></div>" +
            "  <div class=\"page1\"></div>" +
            "  <div class=\"front\">"+
            bookTitle + "<br>"+ "<br>"+
            "Author: " + bookAuthor +
            "</div>" +
            "</div>"
        $("#shelf").html(currentShelf)
        // $.ajax("data/books.json", {
        //     type: "POST",
        //     data: {
        //         title:     bookTitle,
        //         author: bookAuthor
        //     }
        // });
    })

</script>
</body>
</html>